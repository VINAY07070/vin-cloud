<!DOCTYPE html>
<html lang="en">
<head>
    <title>GOD MODE // VINAY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        /* CRT SCREEN EFFECTS */
        body { 
            background: #050505; 
            color: #0f0; 
            font-family: 'VT323', monospace; 
            overflow: hidden; 
            font-size: 1.2rem;
            text-shadow: 0 0 5px #00ff00;
        }

        /* Scanlines */
        body::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 50;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        /* Flicker */
        body::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: rgba(18, 16, 16, 0.1);
            opacity: 0;
            z-index: 50;
            pointer-events: none;
            animation: flicker 0.15s infinite;
        }
        @keyframes flicker {
            0% { opacity: 0.02; } 50% { opacity: 0.05; } 100% { opacity: 0.02; }
        }

        /* Glow Elements */
        .border-green { border: 1px solid #00ff00; box-shadow: 0 0 10px #00ff00, inset 0 0 10px #00ff00; }
        .text-glow { text-shadow: 0 0 10px #00ff00; }
        
        .log-entry {
            transition: 0.2s;
            border-left: 2px solid #004400;
        }
        .log-entry:hover { 
            background: rgba(0, 255, 0, 0.1); 
            border-left-color: #00ff00;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #001100; }
        ::-webkit-scrollbar-thumb { background: #00ff00; }
    </style>
</head>
<body class="p-6 h-screen flex flex-col" onload="bootSystem()">
    
    <div style="position:fixed; inset:0; box-shadow: inset 0 0 100px rgba(0,0,0,0.9); z-index:40; pointer-events:none;"></div>

    <div class="flex justify-between items-center mb-6 border-b border-green-900 pb-4 relative z-10">
        <div>
            <h1 class="text-4xl font-bold tracking-widest text-glow">COMMAND CENTER</h1>
            <p class="text-lg opacity-70">ARCHITECT: VINAY | SYSTEM STATUS: <span class="animate-pulse">ONLINE</span></p>
        </div>
        <div class="text-right">
            <div class="text-4xl font-bold">{{ total }}</div>
            <div class="text-sm opacity-70">TOTAL TRANSMISSIONS</div>
        </div>
    </div>

    <div class="flex gap-6 flex-1 overflow-hidden relative z-10">
        
        <div class="w-1/4 border-green p-4 overflow-y-auto bg-black/50">
            <h2 class="text-2xl mb-4 border-b border-green-900 pb-2">ACTIVE AGENTS</h2>
            <ul class="space-y-3">
                {% for user, count in user_stats.items() %}
                <li class="flex justify-between items-center hover:bg-green-900/30 p-2 cursor-crosshair">
                    <span>> {{ user }}</span>
                    <span class="bg-green-900 text-black px-2 py-0.5 text-lg font-bold">{{ count }}</span>
                </li>
                {% endfor %}
            </ul>
        </div>

        <div class="flex-1 border-green p-4 overflow-y-auto flex flex-col gap-4 bg-black/50 font-mono">
            {% for log in logs %}
            <div class="log-entry p-3">
                <div class="flex justify-between text-sm opacity-60 mb-1">
                    <span>[{{ log.time }}]</span>
                    <span class="font-bold text-green-400">USR: {{ log.user }}</span>
                </div>
                <div class="text-lg text-green-200 mb-1">INPUT >> {{ log.input }}</div>
                <div class="text-sm text-green-600 pl-4 opacity-80">AI_RESPONSE: {{ log.output[:150] }}...</div>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="mt-4 text-center text-sm opacity-50 relative z-10">
        // END OF LINE // VIN_OS_KERNEL_V99 //
    </div>

    <script>
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function bootSystem() {
            // Play bootup sound
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            
            osc.type = 'square';
            osc.frequency.setValueAtTime(100, audioCtx.currentTime);
            osc.frequency.linearRampToValueAtTime(600, audioCtx.currentTime + 0.2);
            osc.frequency.linearRampToValueAtTime(300, audioCtx.currentTime + 0.4);
            
            gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.6);
            
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.6);
        }
    </script>
</body>
</html>
